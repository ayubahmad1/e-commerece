
<div class=" col-2 m-1">
  <div class="card" style="width: 18rem;">
    <% if product.images.attached? %>
      <%= image_tag(product.images[0], width:'285', height: '250') %>
    <% end %>
    <%# <img src="..." class="card-img-top" alt="..."> %>
    <div class="card-body">
      <h5 class="card-title"><%= product.name %></h5>
      <p class="card-text">Rs. <%= product.price %></p>
      <p>Quantity <%= session[:cart][product.id]%></p>
      <%= link_to 'Show', product, class: "btn btn-outline-primary" %>
      <%= link_to 'Add to Basket', add_to_cart_path(product.id), class: "btn btn-outline-warning", method: :post unless (@cart.include?(product) || @caller_view == 'productIndex') %>
      <%# <%= link_to 'In Basket', cart_path, class: "btn btn-success" if @cart.include?(product) %>
      <%= link_to 'Remove from Basket',  remove_from_cart_path(product), class: "btn btn-success" , method: :delete if @cart.include?(product)%>
      <%= link_to 'Edit', edit_product_path(product), class: "btn btn-outline-warning" if policy(product).update? %>
      <%= link_to 'Destroy', product_path(product), class: "btn btn-outline-danger", method: :delete, data: { confirm: 'Are you sure?' } if policy(product).destroy? %>
      <%# <a href="#" class="btn btn-primary">Go somewhere</a> %>
    </div>
  </div>
</div>

<%# <table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Quantity</th>
      <th>Price</th>
      <th colspan="3"></th>
    </tr>
  </thead> %>

  <%# <tbody> %>
    <%# <% @products.each do |product| %>
      <%# <tr> %>
        <%# <td><%= product.name</td> %>
        <%# <td><%= product.description</td> %>
        <%# <td><%= product.quantity</td> %>
        <%# <td><%= product.price</td> %>
        <%# <td><%= link_to 'Show', product</td> %>
        <%# <td><%= link_to 'Edit', edit_product_path(product) if policy(product).update?</td> %>
        <%# <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } if policy(product).destroy?</td> %>
      <%# </tr> %>
    <%# <% end %>
  <%# </tbody> %>
<%# </table> %>

<%# <br> %>


