<%# <script>
  // $("#addToCart").on("click", function(){
  //   alert('mmmmmm');
  // });

  // $("#addToCart").on("click", function(){
  //   cart[:product_id] = '1'
  //   flash[:alert] = "Product added"
  // });
</script> %>
<p id="notice"><%= notice %></p>

<%# <% if @product.images.attached? %>
  <%# <% @product.images.each do |image| %>
    <%# <div style=""> %>
      <%# <%= image_tag(image) %>
    <%# </div> %>
  <%# <% end %>
<%# <% end %>

<%# <p> %>
  <%# <strong>Name:</strong> %>
  <%# <%= @product.name %>
<%# </p> %>

<%# <p> %>
  <%# <strong>Description:</strong> %>
  <%# <%= @product.description %>
<%# </p> %>

<%# <p> %>
  <%# <strong>Quantity:</strong> %>
  <%# <%= @product.quantity %>
<%# </p> %>

<%# <p> %>
  <%# <strong>Price:</strong> %>
  <%# <%= @product.price %>
<%# </p> %>


<div class="container mt-5 mb-5">
  <div class="card">
    <div class="row g-0">
      <div class="col-md-6 border-end">
        <div class="d-flex flex-column justify-content-center">
          <div class="main_image">
            <% if @product.images.attached? %>
              <% @product.images.each do |image| %>
                <%= image_tag(image, width:'300', height: '300') %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="p-3 right-side">
          <div class="d-flex justify-content-between align-items-center">
            <h3><%= @product.name %></h3>
          </div>
          <div class="mt-2 pr-3 content">
            <p><%= @product.description %></p>
          </div>
          <h3>Rs. <%= @product.price %></h3>
          <br>
          <h6>Qty. <%= @product.quantity %></h6>
      <div class="buttons d-flex flex-row mt-5 gap-3">
      <%= link_to 'Add to Basket', add_to_cart_path(@product.id), class: "btn btn-outline-warning", method: :post unless @cart.include?(@product) %>
      <%= link_to 'Remove from Basket',  remove_from_cart_path(@product), class: "btn btn-success" , method: :delete if @cart.include?(@product)%>
      <%= link_to 'Edit', edit_product_path(@product), class: "btn btn-outline-warning" if policy(@product).update? %>
      <%= link_to 'Destroy', product_path(@product), class: "btn btn-outline-danger", method: :delete, data: { confirm: 'Are you sure?' } if policy(@product).destroy? %>
      </div>
    </div>
  </div>
</div>
</div>
</div>

<%= render @product.comments %>
<%= render 'comments/form' if policy(@product).comment? %>

<%= link_to 'Back', root_path, class: "btn btn-outline-dark" %>
